<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Select matched controls per case — selectControls • CaseControl</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Select matched controls per case — selectControls" />

<meta property="og:description" content="Select matched controls per case" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CaseControl</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/MultipleAnalyses.html">Running multiple analyses at once using the CaseControl package</a>
    </li>
    <li>
      <a href="../articles/SingleStudies.html">Single studies using the CaseControl package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/OHDSI/CaseControl">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Select matched controls per case</h1>
    <small class="dont-index">Source: <a href='https://github.com/OHDSI/CaseControl/blob/master/R/SelectControls.R'><code>R/SelectControls.R</code></a></small>
    <div class="hidden name"><code>selectControls.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Select matched controls per case</p>
    
    </div>

    <pre class="usage"><span class='fu'>selectControls</span>(<span class='no'>caseData</span>, <span class='no'>outcomeId</span>, <span class='kw'>firstOutcomeOnly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>washoutPeriod</span> <span class='kw'>=</span> <span class='fl'>180</span>, <span class='kw'>controlsPerCase</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>matchOnAge</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>ageCaliper</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>matchOnGender</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>matchOnProvider</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>matchOnCareSite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>matchOnVisitDate</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>visitDateCaliper</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>matchOnTimeInCohort</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>daysInCohortCaliper</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>minAge</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>maxAge</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>removedUnmatchedCases</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>caseData</th>
      <td><p>An object of type <code>caseData</code> as generated using the
<code><a href='getDbCaseData.html'>getDbCaseData</a></code> function.</p></td>
    </tr>
    <tr>
      <th>outcomeId</th>
      <td><p>The outcome ID of the cases for which we need to pick controls.</p></td>
    </tr>
    <tr>
      <th>firstOutcomeOnly</th>
      <td><p>Use the first outcome per person?</p></td>
    </tr>
    <tr>
      <th>washoutPeriod</th>
      <td><p>Minimum required numbers of days of observation for inclusion as
either case or control.</p></td>
    </tr>
    <tr>
      <th>controlsPerCase</th>
      <td><p>Maximum number of controls to select per case.</p></td>
    </tr>
    <tr>
      <th>matchOnAge</th>
      <td><p>Match on age?</p></td>
    </tr>
    <tr>
      <th>ageCaliper</th>
      <td><p>Maximum difference (in years) in age when matching on age.</p></td>
    </tr>
    <tr>
      <th>matchOnGender</th>
      <td><p>Match on gender?</p></td>
    </tr>
    <tr>
      <th>matchOnProvider</th>
      <td><p>Match on provider (as specified in the person table)?</p></td>
    </tr>
    <tr>
      <th>matchOnCareSite</th>
      <td><p>Match on care site (as specified in the person table)?</p></td>
    </tr>
    <tr>
      <th>matchOnVisitDate</th>
      <td><p>Should the index date of the control be changed to the nearest visit
date?</p></td>
    </tr>
    <tr>
      <th>visitDateCaliper</th>
      <td><p>Maximum difference (in days) between the index date and the visit
date when matching on visit date.</p></td>
    </tr>
    <tr>
      <th>matchOnTimeInCohort</th>
      <td><p>Match on time in nesting cohort? When not using nesting, this is
interpreted as time observed prior to index.</p></td>
    </tr>
    <tr>
      <th>daysInCohortCaliper</th>
      <td><p>Maximum difference (in days) in time in cohort.</p></td>
    </tr>
    <tr>
      <th>minAge</th>
      <td><p>Minimum age at which patient time will be included in the analysis.
Note that information prior to the min age is still used to determine
exposure status after the minimum age (e.g. when a prescription was
started just prior to reaching the minimum age). Also, outcomes
occurring before the minimum age is reached will be considered as
prior outcomes when using first outcomes only. Age should be specified
in years, but non-integer values are allowed. If not specified, no age
restriction will be applied.</p></td>
    </tr>
    <tr>
      <th>maxAge</th>
      <td><p>Maximum age at which patient time will be included in the analysis. Age
should be specified in years, but non-integer values are allowed. If not
specified, no age restriction will be applied.</p></td>
    </tr>
    <tr>
      <th>removedUnmatchedCases</th>
      <td><p>Should cases with no matched controls be removed?</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>The number generator seed. A null value sets seed via <code><a href='https://www.rdocumentation.org/packages/base/topics/Sys.time'>Sys.time</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with these columns:</p><dl class='dl-horizontal'>
<dt>personId</dt><dd><p>The person ID</p></dd> <dt>indexDate</dt><dd><p>The
index date</p></dd> <dt>isCase</dt><dd><p>Is the person a case or a control?</p></dd> <dt>stratumId</dt><dd><p>The ID linking cases
and controls in a matched set</p></dd> </dl>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Select controls per case. Controls are matched on calendar time and the criteria defined in the
arguments. Controls are randomly sampled to the required number.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Martijn Schuemie.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

